# IPC (Inter Process Communication)

- 프로세스 간 통신을 의미
- 프로세스에는 **독립적 vs 협력적** 프로세스로 나눌 수 있는데, IPC는 협력적 프로세스에서 일어난다.

## 프로세스 간 통신의 이유

1. **정보 공유(information sharing)**: 같은 정보를 필요로 하는 경우, 다른 프로세스에서도 병행적으로 접근할 수 있도록 해야 한다.
2. **계산 가속화(computation speedup)**: 태스크에 우선순위를 다르게 두어서 빠르게 계산하기 위해서 프로세스들이 다른 서브 태스크들과 병렬로 실행되게 하기 위해서. 이러한 가속화는 여러 처리 코어를 가진 경우에만 달성 가능하다.
3. **모듈성(modularity)**: 시스템 기능을 별도의 프로세스/스레드들로 나누어서 모듈식 형태로 구성하고 싶을 때 IPC를 활용할 수 있다.

## IPC 모델 종류

![](https://velog.velcdn.com/images/urjimyu/post/c86506f0-4019-4c09-aa99-f4ead2937834/image.png)

- a: 공유 메모리 / b: 메시지 전달

**1. 공유 메모리(shared memory)**

- 협력 프로세스들 간 공유 메모리 영역에 데이터 읽고 써서 정보 교환
- 메시지 전달보다 더 빠름 (공유 메모리 영역 구축할 때만 시스템 콜 필요, 이후의 접근들은 일반적인 메모리 접근으로 취급)

**2. 메시지 전달(message passing)**

- 협력 프로세스들 간 교환되는 메시지를 통해 정보 교환
- 충돌을 회피할 필요가 없어서 적은양의 데이터 교환에 유용
- 분산 시스템에서 공유 메모리보다 구현하기 쉬움
- 통상 시스템 콜을 사용하므로 커널 간섭 등 부가적인 시간 소비가 있음

## 공유 메모리 방법

1. 프로세스가 커널에게 공유 메모리 할당 요청
2. 커널이 해당 프로세스에 메모리 공간 할당(공유 메모리)
3. 공유 메모리가 설정 이후 커널의 관여 없이 통신이 가능해짐.
   -> 대신 커널이 제공하는 동기화 작업을 받지 못하므로 프로세스의 동시적인 접근을 직접 제어해야 한다는 단점 존재. 즉 어떤 프로세스가 언제 데이터를 전달했는지 알 수 없다. 이를 해결하기 위해 개별적인 동기화 작업이 필요하다.

## 메시지 전달 방법

- 커널을 통해 프로세스들이 send/receive를 하며 통신한다.

1. 프로세스가 커널에게 데이터를 보낸다.(send)
2. 다른 프로세스가 커널에게 해당 데이터를 받는다(receive)

---

### References

[[OS] 프로세스 간 통신(Interprocess Communication, IPC)
](https://dkswnkk.tistory.com/398)
[IPC - 프로세스 간 통신 방법](https://chunjanam0309.tistory.com/15)
